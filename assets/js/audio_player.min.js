var mediaPlayer=$("#media-player"),title=$("#track-title"),progress=$("#track-progress");$(".player").on("click",function(e){var a=$(e.target),t=a.parent(),r=t.prev();if(a.hasClass("vol")){var n=r[0].volume.toFixed(1),l=$(".vol-incr"),i=$(".vol-decr");1==n?l.css("opacity",.75):0==n?i.css("opacity",.75):$(".vol").css("opacity",1),t.find(".volume span").html(n)}}),$(".player").each(function(){var e=$(this),a=e.find("audio"),t=(a[0].currentTime,a[0].duration,$("#curr-"+a.attr("id").split("-")[1])),r=($("#dur-"+a.attr("id").split("-")[1]),e.parent());e.change(function(){t.html(a[0].currentTime)}),a[0].addEventListener("ended",function(){r.removeClass("playing"),document.title="!@#$%",title.html(""),mediaPlayer.removeClass("active").removeClass("playing").removeClass("paused")}),a[0].addEventListener("play",function(){document.title="Now playing: "+a.data("title"),title.html("Now playing: "+a.data("title")),mediaPlayer.addClass("active").removeClass("paused").addClass("playing"),r.addClass("playing").removeClass("paused")}),a[0].addEventListener("pause",function(){document.title="!@#$%",mediaPlayer.removeClass("playing").addClass("paused"),r.removeClass("playing").addClass("paused")})}),$(".music .close").click(function(){var e=$(this).parent(),a=e.find("audio")[0];e.hasClass("playing")&&a.pause()}),$("#playall").click(function(){var e=$("audio"),a=e.first(),t=0;!function a(r){if(0!=r){var n=r.parent().parent();n.addClass("playing"),r[0].play(),r[0].addEventListener("ended",function(){n.removeClass("playing"),a(e.eq(++t))}),n.find(".close").click(function(){a(e.eq(++t))})}}(a)});var mediaPlayerCurr=$("#track-progress");function mDur(e){var a=document.getElementById("player-"+e);document.getElementById("dur-"+e).max=a.duration}function mPlay(e){var a=document.getElementById("player-"+e),t=document.getElementById("dur-"+e),r=$("#curr-"+e);t.value=a.currentTime,r.html(a.currentTime)}function mSet(e){var a=document.getElementById("player-"+e),t=document.getElementById("dur-"+e),r=$("#curr-"+e);a.currentTime=t.value,r.html(a.currentTime),mediaPlayerCurr.html(a.currentTime)}