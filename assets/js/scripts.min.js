$(function(){var t=$(".slider"),a=t.children().length,s=parseInt(t.css("margin-left").replace(/[^-\d\.]/g,"")),e=$("#slide-number"),i=1;$(".dir").click(function(){"right"==$(this).attr("id")?i<a?(s-=100,i++):(s=0,i=1):i>1?(s+=100,i--):(s=-100*(a-1),i=a),t.css("margin-left",s+"%"),e.text(i)})}),window.onscroll=function(){var t=document.documentElement;t.scrollTop+window.innerHeight>=t.offsetHeight&&$("#stars").addClass("fallen")};var musics=$(".music"),tags=$(".tag");function update_musics(t,a,s=5){var e="";musics.each(function(){var s=$(this);a?s.removeClass("no-match").removeClass("match"):s.data("value").includes(t)?(s.addClass("match").removeClass("no-match"),e+=s.data("value")):s.addClass("no-match").removeClass("match")}),update_tags(e,a)}function update_tags(t,a,s=5){tags.each(function(){var e=$(this);e.attr("id");setTimeout(function(){a?e.show():t.includes(e.attr("id"))?e.show():e.hide()},s+=5)})}$("#search").keyup(function(){var t=$(this).val(),a=!1;""==t&&(a=!0),update_musics(t,a)}),$(".tag").click(function(){var t=$(this),a=t.attr("id");reset=!1,t.hasClass("active")&&(reset=!0),update_musics(a,reset),t.toggleClass("active")});