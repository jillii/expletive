$(function(){var t=$(".slider"),s=t.children().length,a=parseInt(t.css("margin-left").replace(/[^-\d\.]/g,"")),e=$("#slide-number"),i=1;$(".dir").click(function(){"right"==$(this).attr("id")?i<s?(a-=100,i++):(a=0,i=1):i>1?(a+=100,i--):(a=-100*(s-1),i=s),t.css("margin-left",a+"%"),e.text(i)})}),window.onscroll=function(){var t=document.documentElement;t.scrollTop+window.innerHeight>=t.offsetHeight&&$("#stars").addClass("fallen")};var musics=$(".music"),tags=$(".tag");function update_musics(t,s,a=5){musics.each(function(){var e=$(this);setTimeout(function(){s?e.removeClass("no-match").removeClass("match"):e.data("value").includes(t)?e.addClass("match").removeClass("no-match"):e.addClass("no-match").removeClass("match")},a+=5)})}function update_tags(t,s,a=5){tags.each(function(){var e=$(this),i=e.attr("id");setTimeout(function(){s?e.show():i.includes(t)||e.hide()},a+=5)})}$("#search").keyup(function(){var t=$(this).val(),s=!1;""==t&&(s=!0),update_musics(t,s),update_tags(t,s)}),$(".tag").click(function(){var t=$(this),s=t.attr("id");reset=!1,t.hasClass("active")&&(reset=!0),update_musics(s,reset),update_tags(s,reset),t.toggleClass("active")});